<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@hyperledger/fabric-gateway</title><meta name="description" content="Documentation for @hyperledger/fabric-gateway"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">@hyperledger/fabric-gateway</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>@hyperledger/fabric-gateway</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#overview" id="overview" style="color: inherit; text-decoration: none;">
  <h1>Overview</h1>
</a>
<p>The <em>fabric-gateway</em> package enables Node.js developers to build client applications using the Hyperledger Fabric programming model as described in the <a href="https://hyperledger-fabric.readthedocs.io/en/latest/developapps/developing_applications.html">Developing Applications</a> chapter of the Fabric documentation.</p>
<p><a href="http://www.typescriptlang.org/">TypeScript</a> definitions are included in this package.</p>

<a href="#getting-started" id="getting-started" style="color: inherit; text-decoration: none;">
  <h2>Getting started</h2>
</a>
<p>Client applications interact with the blockchain network using a Fabric Gateway. A session for a given client identity is established by calling <code>connect()</code> with a gRPC connection to a Fabric Gateway endpoint, client identity, and client signing implementation. The returned <code>Gateway</code> enables interaction with any of the blockchain <code>Networks</code> (channels) accessible through the Fabric Gateway. This in turn provides access to Smart <code>Contracts</code> within chaincode deployed to that blockchain network, and to which transactions can be submitted or queries can be evaluated.</p>
<p>gRPC connections to a Fabric Gateway may be shared by all <code>Gateway</code> instances interacting with that Fabric Gateway.</p>

<a href="#example" id="example" style="color: inherit; text-decoration: none;">
  <h2>Example</h2>
</a>
<p>The following complete example shows how to connect to a Fabric network, submit a transaction and query the ledger state using an instantiated smart contract.</p>
<pre><code><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">grpc</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@grpc/grpc-js&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> </span><span class="hl-2">*</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">crypto</span><span class="hl-1"> </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;crypto&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-3">connect</span><span class="hl-1">, </span><span class="hl-3">Identity</span><span class="hl-1">, </span><span class="hl-3">signers</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;@hyperledger/fabric-gateway&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-3">promises</span><span class="hl-1"> </span><span class="hl-0">as</span><span class="hl-1"> </span><span class="hl-3">fs</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;fs&#39;</span><span class="hl-1">;</span><br/><span class="hl-0">import</span><span class="hl-1"> { </span><span class="hl-3">TextDecoder</span><span class="hl-1"> } </span><span class="hl-0">from</span><span class="hl-1"> </span><span class="hl-4">&#39;util&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">utf8Decoder</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-6">TextDecoder</span><span class="hl-1">();</span><br/><br/><span class="hl-2">async</span><span class="hl-1"> </span><span class="hl-2">function</span><span class="hl-1"> </span><span class="hl-6">main</span><span class="hl-1">(): </span><span class="hl-7">Promise</span><span class="hl-1">&lt;</span><span class="hl-7">void</span><span class="hl-1">&gt; {</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">credentials</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">readFile</span><span class="hl-1">(</span><span class="hl-4">&#39;path/to/certificate.pem&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">identity</span><span class="hl-1">: </span><span class="hl-7">Identity</span><span class="hl-1"> = { </span><span class="hl-3">mspId:</span><span class="hl-1"> </span><span class="hl-4">&#39;myorg&#39;</span><span class="hl-1">, </span><span class="hl-3">credentials</span><span class="hl-1"> };</span><br/><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">privateKeyPem</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-3">fs</span><span class="hl-1">.</span><span class="hl-6">readFile</span><span class="hl-1">(</span><span class="hl-4">&#39;path/to/privateKey.pem&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">privateKey</span><span class="hl-1"> = </span><span class="hl-3">crypto</span><span class="hl-1">.</span><span class="hl-6">createPrivateKey</span><span class="hl-1">(</span><span class="hl-3">privateKeyPem</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">signer</span><span class="hl-1"> = </span><span class="hl-3">signers</span><span class="hl-1">.</span><span class="hl-6">newPrivateKeySigner</span><span class="hl-1">(</span><span class="hl-3">privateKey</span><span class="hl-1">);</span><br/><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">client</span><span class="hl-1"> = </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-3">grpc</span><span class="hl-1">.</span><span class="hl-6">Client</span><span class="hl-1">(</span><span class="hl-4">&#39;gateway.example.org:1337&#39;</span><span class="hl-1">, </span><span class="hl-3">grpc</span><span class="hl-1">.</span><span class="hl-3">credentials</span><span class="hl-1">.</span><span class="hl-6">createInsecure</span><span class="hl-1">());</span><br/><br/><span class="hl-1">    </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">gateway</span><span class="hl-1"> = </span><span class="hl-6">connect</span><span class="hl-1">({ </span><span class="hl-3">identity</span><span class="hl-1">, </span><span class="hl-3">signer</span><span class="hl-1">, </span><span class="hl-3">client</span><span class="hl-1"> });</span><br/><span class="hl-1">    </span><span class="hl-0">try</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">network</span><span class="hl-1"> = </span><span class="hl-3">gateway</span><span class="hl-1">.</span><span class="hl-6">getNetwork</span><span class="hl-1">(</span><span class="hl-4">&#39;channelName&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">contract</span><span class="hl-1"> = </span><span class="hl-3">network</span><span class="hl-1">.</span><span class="hl-6">getContract</span><span class="hl-1">(</span><span class="hl-4">&#39;chaincodeName&#39;</span><span class="hl-1">);</span><br/><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">putResult</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-3">contract</span><span class="hl-1">.</span><span class="hl-6">submitTransaction</span><span class="hl-1">(</span><span class="hl-4">&#39;put&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;time&#39;</span><span class="hl-1">, </span><span class="hl-2">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">().</span><span class="hl-6">toISOString</span><span class="hl-1">());</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;Put result:&#39;</span><span class="hl-1">, </span><span class="hl-3">utf8Decoder</span><span class="hl-1">.</span><span class="hl-6">decode</span><span class="hl-1">(</span><span class="hl-3">putResult</span><span class="hl-1">));</span><br/><br/><span class="hl-1">        </span><span class="hl-2">const</span><span class="hl-1"> </span><span class="hl-5">getResult</span><span class="hl-1"> = </span><span class="hl-0">await</span><span class="hl-1"> </span><span class="hl-3">contract</span><span class="hl-1">.</span><span class="hl-6">evaluateTransaction</span><span class="hl-1">(</span><span class="hl-4">&#39;get&#39;</span><span class="hl-1">, </span><span class="hl-4">&#39;time&#39;</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-6">log</span><span class="hl-1">(</span><span class="hl-4">&#39;Get result:&#39;</span><span class="hl-1">, </span><span class="hl-3">utf8Decoder</span><span class="hl-1">.</span><span class="hl-6">decode</span><span class="hl-1">(</span><span class="hl-3">getResult</span><span class="hl-1">));</span><br/><span class="hl-1">    } </span><span class="hl-0">finally</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-3">gateway</span><span class="hl-1">.</span><span class="hl-6">close</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-3">client</span><span class="hl-1">.</span><span class="hl-6">close</span><span class="hl-1">()</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-6">main</span><span class="hl-1">().</span><span class="hl-6">catch</span><span class="hl-1">(</span><span class="hl-3">console</span><span class="hl-1">.</span><span class="hl-3">error</span><span class="hl-1">);</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li><li class=" tsd-kind-namespace"><a href="modules/checkpointers.html">checkpointers</a></li><li class=" tsd-kind-namespace"><a href="modules/hash.html">hash</a></li><li class=" tsd-kind-namespace"><a href="modules/signers.html">signers</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-class"><a href="classes/CommitError.html" class="tsd-kind-icon">Commit<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/CommitStatusError.html" class="tsd-kind-icon">Commit<wbr/>Status<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/EndorseError.html" class="tsd-kind-icon">Endorse<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/GatewayError.html" class="tsd-kind-icon">Gateway<wbr/>Error</a></li><li class="tsd-kind-class"><a href="classes/SubmitError.html" class="tsd-kind-icon">Submit<wbr/>Error</a></li><li class="tsd-kind-interface"><a href="interfaces/BlockAndPrivateDataEventsRequest.html" class="tsd-kind-icon">Block<wbr/>And<wbr/>Private<wbr/>Data<wbr/>Events<wbr/>Request</a></li><li class="tsd-kind-interface"><a href="interfaces/BlockEventsRequest.html" class="tsd-kind-icon">Block<wbr/>Events<wbr/>Request</a></li><li class="tsd-kind-interface"><a href="interfaces/ChaincodeEvent.html" class="tsd-kind-icon">Chaincode<wbr/>Event</a></li><li class="tsd-kind-interface"><a href="interfaces/ChaincodeEventsRequest.html" class="tsd-kind-icon">Chaincode<wbr/>Events<wbr/>Request</a></li><li class="tsd-kind-interface"><a href="interfaces/Checkpoint.html" class="tsd-kind-icon">Checkpoint</a></li><li class="tsd-kind-interface"><a href="interfaces/Checkpointer.html" class="tsd-kind-icon">Checkpointer</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/CloseableAsyncIterable.html" class="tsd-kind-icon">Closeable<wbr/>Async<wbr/>Iterable</a></li><li class="tsd-kind-interface"><a href="interfaces/Commit.html" class="tsd-kind-icon">Commit</a></li><li class="tsd-kind-interface"><a href="interfaces/ConnectOptions.html" class="tsd-kind-icon">Connect<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/Contract.html" class="tsd-kind-icon">Contract</a></li><li class="tsd-kind-interface"><a href="interfaces/ErrorDetail.html" class="tsd-kind-icon">Error<wbr/>Detail</a></li><li class="tsd-kind-interface"><a href="interfaces/EventsOptions.html" class="tsd-kind-icon">Events<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/FilteredBlockEventsRequest.html" class="tsd-kind-icon">Filtered<wbr/>Block<wbr/>Events<wbr/>Request</a></li><li class="tsd-kind-interface"><a href="interfaces/Gateway.html" class="tsd-kind-icon">Gateway</a></li><li class="tsd-kind-interface"><a href="interfaces/HSMSigner.html" class="tsd-kind-icon">HSMSigner</a></li><li class="tsd-kind-interface"><a href="interfaces/HSMSignerFactory.html" class="tsd-kind-icon">HSMSigner<wbr/>Factory</a></li><li class="tsd-kind-interface"><a href="interfaces/HSMSignerOptions.html" class="tsd-kind-icon">HSMSigner<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/Identity.html" class="tsd-kind-icon">Identity</a></li><li class="tsd-kind-interface"><a href="interfaces/Network.html" class="tsd-kind-icon">Network</a></li><li class="tsd-kind-interface"><a href="interfaces/Proposal.html" class="tsd-kind-icon">Proposal</a></li><li class="tsd-kind-interface"><a href="interfaces/ProposalOptions.html" class="tsd-kind-icon">Proposal<wbr/>Options</a></li><li class="tsd-kind-interface"><a href="interfaces/Signable.html" class="tsd-kind-icon">Signable</a></li><li class="tsd-kind-interface"><a href="interfaces/Status.html" class="tsd-kind-icon">Status</a></li><li class="tsd-kind-interface"><a href="interfaces/SubmittedTransaction.html" class="tsd-kind-icon">Submitted<wbr/>Transaction</a></li><li class="tsd-kind-interface"><a href="interfaces/Transaction.html" class="tsd-kind-icon">Transaction</a></li><li class="tsd-kind-type-alias"><a href="modules.html#BlockEventsOptions" class="tsd-kind-icon">Block<wbr/>Events<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ChaincodeEventsOptions" class="tsd-kind-icon">Chaincode<wbr/>Events<wbr/>Options</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Hash" class="tsd-kind-icon">Hash</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Signer" class="tsd-kind-icon">Signer</a></li><li class="tsd-kind-variable"><a href="modules.html#StatusCode" class="tsd-kind-icon">Status<wbr/>Code</a></li><li class="tsd-kind-function"><a href="modules.html#connect" class="tsd-kind-icon">connect</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-property tsd-parent-kind-class"><span class="tsd-kind-icon">Property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-inherited"><span class="tsd-kind-icon">Inherited property</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>